<!-- <markdown [src]="'/assets/md/ng-viewport-grid/README.md'"></markdown>

<h2>Window Panels</h2>
<p>The <em>flo-window-panes</em> component is a response grid window/tile manager.</p>
<h4>Features</h4>
<ul>
  <li>High Performance with minimal CPU and memory usage</li>
  <li>Responsive for an arbitrary number of elements with a high degree of layout symmetry.</li>
  <li>Primarily designed for a multi-camera grid layout, but arbitarty DOM elements should also work.</li>
  <li>CSS based solution with minimal Javascript (for layout) to enable a server rendered and jitter free user
    experience</li>
  <li>Drag and drop to swap element positions</li>
  <li>Extensive API for handle to customize for broad use-cases</li>
</ul>
<h3>Demo</h3>
<form [formGroup]="formGroup">
  <div>
    <label for="maxHeight">Max Height</label>
    <input id="maxHeight" placeholder="max height" type="number" formControlName="maxHeight">
  </div>
</form>
<br>
<ul *ngIf="items2$ | async as listWrapper">
  <li *ngFor="let item of listWrapper.items" (click)="setItem(item.src, listWrapper.index)"><a class="pointer">{{ item.title }}</a></li>
</ul>
<ng-container *ngIf="view_ | async as view">
  <button #unmute>Click to unmute</button>
  <flo-viewport-grid #grid startingSelectedIndex="0" [maxHeight]="view.maxHeight" (itemSelected$)="itemSelected($event)">
    <flo-viewport-grid-box *ngFor="let panelItem of viewItems$ | async; trackBy: trackByFn" [ngSwitch]="panelItem.hasSomethingToSee">
      <video *ngSwitchCase="true" floViewportGridBoxItem [floVideoEvents]="{ meta: 1 }" playsinline floMse floVideoAutoplay [src]="panelItem.item"></video>
      <p *ngSwitchCase="false" style="color: white;">ADD SOURCE</p>
    </flo-viewport-grid-box>
  </flo-viewport-grid>
</ng-container> -->
<br/>
<h3>Set Panel Count</h3>
<button (click)="thing(1)">1</button>
<button (click)="thing(2)">2</button>
<button (click)="thing(3)">3</button>
<button (click)="thing(4)">4</button>
<button (click)="thing(5)">5</button>
<button (click)="thing(6)">6</button>
<button (click)="thing(7)">7</button>
<button (click)="thing(8)">8</button>
<button (click)="thing(9)">9</button>
<button (click)="thing(10)">10</button>
<button (click)="thing(11)">11</button>
<button (click)="thing(16)">16</button>
<br/>
<h3>Grid</h3>
<flo-video-grid #videoGridRef [viewPortCount]="vpCountr" [trackByFunc]="tbFunc">
  <video *floVideoGridItemSome="let item" [src]="item.src" autoplay floMse></video>
  <div *floVideoGridItemNone>ADD STREAM</div>
  <div>OPTIONAL: SET VIEW COUNT LOGIC GOES HERE</div>
  <div>OPTIONAL: OVERLAYS INJECECT HERE</div>
</flo-video-grid>
<br/>
<h3>Grid List 1</h3>
<button (click)="removeListItem()">Remove Item</button>
<button (click)="addListItem()">Add Item</button>
<button (click)="emptyList()">Make List Empty</button>
<flo-video-grid-list [gridRef]="videoGridRef" [items]="gridListItems">
  <div *floVideoGridListItem="let container">
    <a [style.font-weight]="container.selected ? 'bold' : 'normal'">{{ container.item.id }} - {{ container.item.title }}</a>
    (
    <span class="pointer" *ngIf="container.permissions.canAdd" (click)="container.actions.add()"> Add </span>
    <span class="pointer" *ngIf="container.permissions.canRemove" (click)="container.actions.remove()"> Remove </span>
    <span class="pointer" *ngIf="container.permissions.canSwap" (click)="container.actions.swap()"> Swap </span>
    <span class="pointer" *ngIf="container.permissions.canReplace" (click)="container.actions.replace()"> Replace </span>
    )
  </div>
</flo-video-grid-list>

<br/>
<!-- 
<h3>Grid List 2</h3>
<flo-video-grid-list [gridRef]="videoGridRef" [items]="gridListItems2">
  <div *floVideoGridListItem="let container">
    <strong>{{ container.item.id }}: </strong><a [style.font-weight]="container.selected ? 'bold' : 'normal'" (click)="container.add()">{{ container.item.title }}</a>
    (<span>selectedIndex: {{ container.selectedIndex }} | canAdd: {{ container.canAdd }} | <a (click)="container.remove()">canRemove: {{ container.canRemove }}</a> | canReplace: {{ container.canReplace }} | canSwap: {{ container.canSwap }}</span>)
  </div>
</flo-video-grid-list> -->